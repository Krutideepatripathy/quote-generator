<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quote</title>
    <link rel="stylesheet" href="quote.css">
</head>
<body>
    <div class="body">
        <div class="quotebox">
            <h2>Quote of the day</h2>
            <blockquote id="quote">Loading...</blockquote>
            <span id="author">Loading..</span>
            <div>
                <button onclick="getQuote(api_url);">New Quote</button>
                <button onclick="tweet()"> <img src="twitter.png" alt="">Tweet</button>
            </div>
        </div>

    </div>
<script>
const quote = document.getElementById("quote");
const author = document.getElementById("author");
const api_url = "https://dummyjson.com/quotes/random";

async function getQuote(url) {
    const response = await fetch(url);
    var data = await response.json();
    console.log(data)
    quote.innerHTML = data.quote;
    author.innerHTML = data.author;

}
getQuote(api_url);

function tweet() {
    const tweetText = encodeURIComponent(`${quote.innerText} â€” ${author.innerText}`);
    const url = `https://twitter.com/intent/tweet?text=${tweetText}`;
    window.open(
        url,
        "tweet window",
        "width=600,height=300,resizable=yes,scrollbars=yes,toolbar=no"
    );
}

</script>
</body>
</html>